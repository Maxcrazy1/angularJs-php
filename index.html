<html ng-app="myApp">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>App | Angular - php</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="angular/angular.js"></script>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <script type="text/javascript" src="js/controlador.js"></script>

</head>

<body ng-controller="myController">
    <div class="container mt-4">
        <h2 class="float-left">Productos | AngularJS + PHP</h2>
        
        <button class="btn btn-primary float-right" type="button" data-toggle="modal" data-target="#myModalNew"
        >Nuevo item</button>
    </div>
    <div class="alert alert-info alert-dismissible" role="alert" ng-if="info">
        <button type="button" class="close" aria-label="Close"><span aria-hidden="true" ng-click="clearInfo()">&times;</span></button>
        {{info}}
    </div>
</div>
</div>

<div class="container">
    <!-- Tabla de datos a imprimir con etiquetas angularjs -->
    <table id='tabla' class="table table-striped">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Origen</th>
                <th>Accion</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>Nombre</th>
                <th>Precio</th>
                <th>Origen</th>
                <th>Accion</th>
                
            </tr>
        </tfoot>
        <tbody>
            
            <tr ng-repeat="i in names">
                <td>{{ i.Nombre }}</td>
                <td>{{ i.Precio }}</td>
                <td ng-model="nombre">{{ i.pais }} </td>
                <td><button class="btn btn-info btn-sm" type="button" data-toggle="modal" data-target="#myModalEdit"
                    ng-click="selectPro(i)">Editar</button>
                    <button class="btn btn-danger btn-sm" data-toggle="modal"
                    data-target="#myModalDelete" ng-click="selectPro(i)" type="button">Eliminar</button></td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <!-- modal de producto a editar -->
    <div id="myModalEdit" class="modal fade" role="dialog">
        <div class="modal-dialog">
            
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Editar producto</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    
                </div>
                <div class="modal-body">
                    <form class="form-horizontal" ng-submit="modificar()">
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">Nombre</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputEmail3" placeholder="Nombre producto"
                                ng-model="newPro.Nombre">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">Precio</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputEmail3" placeholder="Precio"
                                ng-model="newPro.Precio">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">Pais</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" id="inputEmail3" placeholder="Pais de origen"
                                ng-model="newPro.pais">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="submit" ng-click="modificar()" class="btn btn-warning" data-dismiss="modal">
                            </div>
                        </div>
                    </form>
                </div>
                
            </div>
            
        </div>
    </div>
    <!-- modal de producto nuevo -->
    <div id="myModalNew" class="modal fade" role="dialog">
        <div class="modal-dialog">
            
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Producto Nuevo</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    
                </div>
                <div class="modal-body">
                    <form class="form-horizontal">
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">Nombre</label>
                            <div class="col-sm-12">
                                <input type="text" class="form-control"  ng-model="datos.Nombre"  id="inputEmail3" 
                                placeholder="Nombre producto"
                                >
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">Precio</label>
                            <div class="col-sm-12">
                                <input type="text" class="form-control" ng-model="datos.Precio" id="inputEmail3"
                                placeholder="Precio">
                                
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="inputEmail3" class="col-sm-2 control-label">Pais</label>
                            <div class="col-sm-12">
                                <input type="text" class="form-control" ng-model="datos.pais" id="inputEmail3"
                                placeholder="Pais de origen"
                                >
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-12 text-center">
                                <input type="submit" ng-click="enviar()" class="btn btn-warning" data-dismiss="modal" value="Guardar!">
                                
                            </div>
                        </div>
                    </form>
                </div>
                
            </div>
            
        </div>
    </div>
    
    <!-- Modal de producto a borrar-->
    <div id="myModalDelete" class="modal fade" role="dialog">
        <div class="modal-dialog">
            
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">¿Estas seguro?</h4>
                    
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                
                <div class="modal-body">
                    <h3 style="color: firebrick">¿Deseas borrar toda la información asociada a este producto?</h3>
                    <br/>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default pull-left" data-dismiss="modal" ng-click="eliminar()">Si</button>	      	
                    <button type="button" class="btn btn-default pull-right" data-dismiss="modal">No</button>
                </div>
            </div>
            
        </div>
    </div>
    
</body>
<script src="jquery/jquery-3.3.1.min.js"></script>
<script src="ajax/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>

</html>